\usepackage{ifthen} % Used in macros

\usepackage{sectsty}
\usepackage[english,magyar]{babel} % Language support
\usepackage{geometry}
\usepackage{amsmath,amssymb} % Mathematical symbols
\usepackage{microtype} % Imrovements to typesetting
\usepackage{setspace} % For setting line spacing
\usepackage{cmap} % Enables more advenced text copying from the PDF document 
% \usepackage{sectsty} % Section heading styling

\usepackage[luatex,unicode]{hyperref} % For hyperlinks in the generated document
\usepackage{booktabs} % For publication quality tables for LaTeX
\usepackage{graphicx} % For figure sizing
\usepackage[hang]{caption}
\usepackage{xcolor} % For code coloring in listings
\usepackage{listings} % For source code snippets
\usepackage[amsmath,thmmarks]{ntheorem} % Theorem-like environments

\usepackage[numbers]{natbib} % Bibliography

\usepackage{fancyhdr} % For easy to use headers and footers

% thanks to http://tex.stackexchange.com/a/47579/71109
\usepackage{ifxetex}
\usepackage{ifluatex}
\newif\ifxetexorluatex % a new conditional starts as false
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi>0
	\xetexorluatextrue
\fi

\ifxetexorluatex
	\usepackage{fontspec}
	% Palatino clone font (Tex Gyre Pagella) for text and math
	\usepackage{unicode-math}
	\setmainfont[Ligatures=TeX]{TeX Gyre Pagella}
	\setmathfont{TeX Gyre Pagella Math}
	\setmonofont[Scale=.85]{Menlo}
\else
	\usepackage[T1]{fontenc}
	\usepackage[utf8]{inputenc}
	%\usepackage[lighttt]{lmodern} % Advanced version of the Computer Modern font
	% Palatino clone font (Tex Gyre Pagella) for text and math
	\usepackage{tgpagella, newpxmath}
\fi

\usepackage{tikz}
\usepackage{listings}

\usepackage{mdframed}
\usepackage[print-solutions]{math-exercise}

\newmdenv[%
	backgroundcolor=yellow-base!5,%
	linecolor=blue-base,%
	linewidth=1mm,%
	topline=false,%
	rightline=false,%
	bottomline=false,%
	skipabove=0.75em,%
	skipbelow=0.75em,%
]{myframe}
\newcounter{note}
\makeatletter
\newenvironment{note}[1][\@nil]{%
	\refstepcounter{note}%
	\begin{myframe}\textbf{Megjegyz√©s \thenote.}%
		\def\tmp{#1}%
		\ifx\tmp\@nnil\else%
			\hspace{.5em}[\;#1\;]
		\fi\par%
		}{\end{myframe}}
\makeatother

\usepackage[abspath]{currfile}
\newcommand{\relativeinput}[1]{\input{\currfiledir#1}}
\newcommand{\relativeinclude}[1]{\input{\currfiledir#1}}
\newcommand{\relativestandalone}[1]{\includestandalone{\currfiledir#1}}
